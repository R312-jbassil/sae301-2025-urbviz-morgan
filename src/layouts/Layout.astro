---
import "../styles/global.css";
const { title = "TaVue", description } = Astro.props;
const navigation = [
  { href: "/lunettes", label: "Mes créations" },
  { href: "/configurateur", label: "Configurateur" },
  { href: "/auth", label: "Compte" },
];
const currentPath = Astro.url.pathname;
---
<html lang="fr" data-theme="tavue">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    {description && <meta name="description" content={description} />}
    <slot name="head" />
  </head>
  <body>
    <a
      href="#page-content"
      class="sr-only focus:not-sr-only focus:absolute focus:left-4 focus:top-4 focus:rounded-full focus:bg-primary focus:px-4 focus:py-2 focus:text-primary-content"
    >
      Aller au contenu
    </a>
    <header class="header">
      <div class="container mx-auto flex max-w-[var(--max-width)] items-center justify-between gap-6 px-6 py-4">
        <a href="/" class="flex items-center gap-3">
          <img src="/logo.svg" alt="TaVue" class="h-12 w-12 drop-shadow-sm" loading="lazy" />
          <span class="font-display text-2xl leading-none" style="color: var(--tavue-blue);">TaVue</span>
        </a>
        <nav class="flex items-center gap-2">
          {navigation.map(({ href, label }) => {
            const isActive =
              href === "/"
                ? currentPath === href
                : currentPath === href || currentPath.startsWith(`${href}/`);
            return (
              <a href={href} class={`nav-item${isActive ? " active" : ""}`}>
                {label}
              </a>
            );
          })}
        </nav>
      </div>
    </header>

    <main id="page-content" class="mx-auto flex w-full max-w-[var(--max-width)] flex-col gap-8 px-6 py-12">
      <slot />
    </main>

    <footer class="border-t border-[rgba(15,23,42,0.1)] bg-white/90">
      <div class="mx-auto flex w-full max-w-[var(--max-width)] flex-col gap-2 px-6 py-8 text-sm text-[rgba(15,23,42,0.7)] md:flex-row md:items-center md:justify-between">
        <span>&copy; {new Date().getFullYear()} TaVue.</span>
        <span>Fabrication française et design sur-mesure.</span>
      </div>
    </footer>
  </body>
</html>
